{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ap75r\\\\OneDrive\\\\Desktop\\\\Proj\\\\sepm project\\\\client\\\\src\\\\contexts\\\\ProgressContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { auth, db } from '../firebase';\nimport { doc, setDoc, getDoc, updateDoc } from 'firebase/firestore';\nimport { RANKS, ACHIEVEMENTS, NOTIFICATIONS } from '../constants/badges';\nimport { useAuth } from './AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProgressContext = /*#__PURE__*/createContext();\nexport function useProgress() {\n  _s();\n  return useContext(ProgressContext);\n}\n_s(useProgress, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport function ProgressProvider({\n  children\n}) {\n  _s2();\n  const {\n    currentUser\n  } = useAuth();\n  const [userProgress, setUserProgress] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [notifications, setNotifications] = useState([]);\n  useEffect(() => {\n    if (currentUser) {\n      const fetchProgress = async () => {\n        const progressRef = doc(db, 'progress', currentUser.uid);\n        const progressSnap = await getDoc(progressRef);\n        if (progressSnap.exists()) {\n          setUserProgress(progressSnap.data());\n        } else {\n          // Initialize progress document if it doesn't exist\n          const initialProgress = {\n            points: 0,\n            quizzesTaken: 0,\n            averageScore: 0,\n            highestScore: 0,\n            totalPoints: 0,\n            badges: [],\n            completedLessons: []\n          };\n          await setDoc(progressRef, initialProgress);\n          setUserProgress(initialProgress);\n        }\n        setLoading(false);\n      };\n      fetchProgress();\n    }\n  }, [currentUser]);\n  useEffect(() => {\n    if (currentUser) {\n      localStorage.setItem('userProgress', JSON.stringify(userProgress));\n      syncProgressWithFirebase();\n    }\n  }, [userProgress, currentUser]);\n  const syncProgressWithFirebase = async () => {\n    if (currentUser) {\n      try {\n        const progressRef = doc(db, 'progress', currentUser.uid);\n        await setDoc(progressRef, userProgress);\n      } catch (error) {\n        console.error('Error syncing progress:', error);\n      }\n    }\n  };\n  const resetProgress = () => {\n    setUserProgress({\n      points: 0,\n      quizzesTaken: 0,\n      averageScore: 0,\n      highestScore: 0,\n      totalPoints: 0,\n      badges: [],\n      completedLessons: []\n    });\n  };\n  const addNotification = (type, message) => {\n    const newNotification = {\n      id: Date.now(),\n      type,\n      message,\n      timestamp: new Date()\n    };\n    setNotifications(prev => [newNotification, ...prev]);\n    setTimeout(() => {\n      setNotifications(prev => prev.filter(n => n.id !== newNotification.id));\n    }, 5000);\n  };\n  const checkRankProgress = points => {\n    const ranks = Object.values(RANKS);\n    for (let i = ranks.length - 1; i >= 0; i--) {\n      if (points >= ranks[i].minPoints && userProgress.currentRank.name !== ranks[i].name) {\n        setUserProgress(prev => ({\n          ...prev,\n          currentRank: ranks[i]\n        }));\n        addNotification(NOTIFICATIONS.RANK_UP, `Congratulations! You've reached ${ranks[i].name} rank!`);\n        break;\n      }\n    }\n  };\n  const checkAchievements = () => {\n    const {\n      modulesCompleted,\n      quizzesTaken,\n      averageScore,\n      completedModules\n    } = userProgress;\n    const unlockedAchievements = [];\n\n    // First Steps\n    if (modulesCompleted >= 1 && !hasAchievement(ACHIEVEMENTS.FIRST_STEPS.id)) {\n      unlockedAchievements.push(ACHIEVEMENTS.FIRST_STEPS);\n    }\n\n    // Quick Learner\n    if (modulesCompleted >= 3 && !hasAchievement(ACHIEVEMENTS.QUICK_LEARNER.id)) {\n      unlockedAchievements.push(ACHIEVEMENTS.QUICK_LEARNER);\n    }\n\n    // Knowledge Seeker\n    if (completedModules.length === 7 && !hasAchievement(ACHIEVEMENTS.KNOWLEDGE_SEEKER.id)) {\n      unlockedAchievements.push(ACHIEVEMENTS.KNOWLEDGE_SEEKER);\n    }\n\n    // Quiz Master\n    if (quizzesTaken >= 5 && averageScore >= 90 && !hasAchievement(ACHIEVEMENTS.QUIZ_MASTER.id)) {\n      unlockedAchievements.push(ACHIEVEMENTS.QUIZ_MASTER);\n    }\n    unlockedAchievements.forEach(achievement => {\n      addAchievement(achievement);\n    });\n  };\n  const hasAchievement = achievementId => {\n    return userProgress.achievements.some(a => a.id === achievementId);\n  };\n  const addAchievement = achievement => {\n    setUserProgress(prev => {\n      const newPoints = prev.totalPoints + achievement.points;\n      checkRankProgress(newPoints);\n      return {\n        ...prev,\n        achievements: [...prev.achievements, achievement],\n        totalPoints: newPoints\n      };\n    });\n    addNotification(NOTIFICATIONS.ACHIEVEMENT_UNLOCKED, `Achievement Unlocked: ${achievement.name} (+${achievement.points} points)`);\n  };\n  const updateModulesCompleted = moduleId => {\n    if (!userProgress.completedModules.includes(moduleId)) {\n      setUserProgress(prev => ({\n        ...prev,\n        modulesCompleted: prev.modulesCompleted + 1,\n        completedModules: [...prev.completedModules, moduleId]\n      }));\n      checkAchievements();\n    }\n  };\n  const updateTimeSpent = minutes => {\n    setUserProgress(prev => ({\n      ...prev,\n      totalTimeSpent: prev.totalTimeSpent + minutes\n    }));\n  };\n  const updateQuizStats = async (score, earnedPoints) => {\n    if (!currentUser) return;\n    const progressRef = doc(db, 'progress', currentUser.uid);\n    const newQuizzesTaken = (userProgress.quizzesTaken || 0) + 1;\n    const newAverageScore = Math.round(((userProgress.averageScore || 0) * (userProgress.quizzesTaken || 0) + score) / newQuizzesTaken);\n    const newHighestScore = Math.max(userProgress.highestScore || 0, score);\n    const newTotalPoints = (userProgress.totalPoints || 0) + earnedPoints;\n    const updatedProgress = {\n      ...userProgress,\n      quizzesTaken: newQuizzesTaken,\n      averageScore: newAverageScore,\n      highestScore: newHighestScore,\n      totalPoints: newTotalPoints\n    };\n    await updateDoc(progressRef, updatedProgress);\n    setUserProgress(updatedProgress);\n    checkAchievements();\n  };\n  const addPoints = async points => {\n    if (!currentUser) return;\n    const progressRef = doc(db, 'progress', currentUser.uid);\n    const newPoints = (userProgress.totalPoints || 0) + points;\n    const updatedProgress = {\n      ...userProgress,\n      totalPoints: newPoints\n    };\n    await updateDoc(progressRef, updatedProgress);\n    setUserProgress(updatedProgress);\n    checkAchievements();\n  };\n  const formatTime = minutes => {\n    const hours = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return `${hours}h ${mins}m`;\n  };\n  const addActivity = activity => {\n    const newActivity = {\n      id: Date.now(),\n      description: activity,\n      timestamp: new Date()\n    };\n    setUserProgress(prev => ({\n      ...prev,\n      recentActivities: [newActivity, ...prev.recentActivities.slice(0, 9)]\n    }));\n  };\n  const value = {\n    userProgress,\n    notifications,\n    resetProgress,\n    updateModulesCompleted,\n    updateTimeSpent,\n    updateQuizStats,\n    addPoints,\n    formatTime,\n    addActivity,\n    hasAchievement,\n    checkAchievements,\n    loading\n  };\n  return /*#__PURE__*/_jsxDEV(ProgressContext.Provider, {\n    value: value,\n    children: !loading && children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 5\n  }, this);\n}\n_s2(ProgressProvider, \"raX+KvuYlgCgFUBGqAS9hkq6Q4M=\", false, function () {\n  return [useAuth];\n});\n_c = ProgressProvider;\nvar _c;\n$RefreshReg$(_c, \"ProgressProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","auth","db","doc","setDoc","getDoc","updateDoc","RANKS","ACHIEVEMENTS","NOTIFICATIONS","useAuth","jsxDEV","_jsxDEV","ProgressContext","useProgress","_s","ProgressProvider","children","_s2","currentUser","userProgress","setUserProgress","loading","setLoading","notifications","setNotifications","fetchProgress","progressRef","uid","progressSnap","exists","data","initialProgress","points","quizzesTaken","averageScore","highestScore","totalPoints","badges","completedLessons","localStorage","setItem","JSON","stringify","syncProgressWithFirebase","error","console","resetProgress","addNotification","type","message","newNotification","id","Date","now","timestamp","prev","setTimeout","filter","n","checkRankProgress","ranks","Object","values","i","length","minPoints","currentRank","name","RANK_UP","checkAchievements","modulesCompleted","completedModules","unlockedAchievements","hasAchievement","FIRST_STEPS","push","QUICK_LEARNER","KNOWLEDGE_SEEKER","QUIZ_MASTER","forEach","achievement","addAchievement","achievementId","achievements","some","a","newPoints","ACHIEVEMENT_UNLOCKED","updateModulesCompleted","moduleId","includes","updateTimeSpent","minutes","totalTimeSpent","updateQuizStats","score","earnedPoints","newQuizzesTaken","newAverageScore","Math","round","newHighestScore","max","newTotalPoints","updatedProgress","addPoints","formatTime","hours","floor","mins","addActivity","activity","newActivity","description","recentActivities","slice","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ap75r/OneDrive/Desktop/Proj/sepm project/client/src/contexts/ProgressContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { auth, db } from '../firebase';\r\nimport { doc, setDoc, getDoc, updateDoc } from 'firebase/firestore';\r\nimport { RANKS, ACHIEVEMENTS, NOTIFICATIONS } from '../constants/badges';\r\nimport { useAuth } from './AuthContext';\r\n\r\nconst ProgressContext = createContext();\r\n\r\nexport function useProgress() {\r\n  return useContext(ProgressContext);\r\n}\r\n\r\nexport function ProgressProvider({ children }) {\r\n  const { currentUser } = useAuth();\r\n  const [userProgress, setUserProgress] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [notifications, setNotifications] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      const fetchProgress = async () => {\r\n        const progressRef = doc(db, 'progress', currentUser.uid);\r\n        const progressSnap = await getDoc(progressRef);\r\n        \r\n        if (progressSnap.exists()) {\r\n          setUserProgress(progressSnap.data());\r\n        } else {\r\n          // Initialize progress document if it doesn't exist\r\n          const initialProgress = {\r\n            points: 0,\r\n            quizzesTaken: 0,\r\n            averageScore: 0,\r\n            highestScore: 0,\r\n            totalPoints: 0,\r\n            badges: [],\r\n            completedLessons: []\r\n          };\r\n          await setDoc(progressRef, initialProgress);\r\n          setUserProgress(initialProgress);\r\n        }\r\n        setLoading(false);\r\n      };\r\n      fetchProgress();\r\n    }\r\n  }, [currentUser]);\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      localStorage.setItem('userProgress', JSON.stringify(userProgress));\r\n      syncProgressWithFirebase();\r\n    }\r\n  }, [userProgress, currentUser]);\r\n\r\n  const syncProgressWithFirebase = async () => {\r\n    if (currentUser) {\r\n      try {\r\n        const progressRef = doc(db, 'progress', currentUser.uid);\r\n        await setDoc(progressRef, userProgress);\r\n      } catch (error) {\r\n        console.error('Error syncing progress:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const resetProgress = () => {\r\n    setUserProgress({\r\n      points: 0,\r\n      quizzesTaken: 0,\r\n      averageScore: 0,\r\n      highestScore: 0,\r\n      totalPoints: 0,\r\n      badges: [],\r\n      completedLessons: []\r\n    });\r\n  };\r\n\r\n  const addNotification = (type, message) => {\r\n    const newNotification = {\r\n      id: Date.now(),\r\n      type,\r\n      message,\r\n      timestamp: new Date()\r\n    };\r\n    setNotifications(prev => [newNotification, ...prev]);\r\n    setTimeout(() => {\r\n      setNotifications(prev => prev.filter(n => n.id !== newNotification.id));\r\n    }, 5000);\r\n  };\r\n\r\n  const checkRankProgress = (points) => {\r\n    const ranks = Object.values(RANKS);\r\n    for (let i = ranks.length - 1; i >= 0; i--) {\r\n      if (points >= ranks[i].minPoints && userProgress.currentRank.name !== ranks[i].name) {\r\n        setUserProgress(prev => ({\r\n          ...prev,\r\n          currentRank: ranks[i]\r\n        }));\r\n        addNotification(NOTIFICATIONS.RANK_UP, `Congratulations! You've reached ${ranks[i].name} rank!`);\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const checkAchievements = () => {\r\n    const { modulesCompleted, quizzesTaken, averageScore, completedModules } = userProgress;\r\n    const unlockedAchievements = [];\r\n\r\n    // First Steps\r\n    if (modulesCompleted >= 1 && !hasAchievement(ACHIEVEMENTS.FIRST_STEPS.id)) {\r\n      unlockedAchievements.push(ACHIEVEMENTS.FIRST_STEPS);\r\n    }\r\n\r\n    // Quick Learner\r\n    if (modulesCompleted >= 3 && !hasAchievement(ACHIEVEMENTS.QUICK_LEARNER.id)) {\r\n      unlockedAchievements.push(ACHIEVEMENTS.QUICK_LEARNER);\r\n    }\r\n\r\n    // Knowledge Seeker\r\n    if (completedModules.length === 7 && !hasAchievement(ACHIEVEMENTS.KNOWLEDGE_SEEKER.id)) {\r\n      unlockedAchievements.push(ACHIEVEMENTS.KNOWLEDGE_SEEKER);\r\n    }\r\n\r\n    // Quiz Master\r\n    if (quizzesTaken >= 5 && averageScore >= 90 && !hasAchievement(ACHIEVEMENTS.QUIZ_MASTER.id)) {\r\n      unlockedAchievements.push(ACHIEVEMENTS.QUIZ_MASTER);\r\n    }\r\n\r\n    unlockedAchievements.forEach(achievement => {\r\n      addAchievement(achievement);\r\n    });\r\n  };\r\n\r\n  const hasAchievement = (achievementId) => {\r\n    return userProgress.achievements.some(a => a.id === achievementId);\r\n  };\r\n\r\n  const addAchievement = (achievement) => {\r\n    setUserProgress(prev => {\r\n      const newPoints = prev.totalPoints + achievement.points;\r\n      checkRankProgress(newPoints);\r\n      \r\n      return {\r\n        ...prev,\r\n        achievements: [...prev.achievements, achievement],\r\n        totalPoints: newPoints\r\n      };\r\n    });\r\n    addNotification(\r\n      NOTIFICATIONS.ACHIEVEMENT_UNLOCKED,\r\n      `Achievement Unlocked: ${achievement.name} (+${achievement.points} points)`\r\n    );\r\n  };\r\n\r\n  const updateModulesCompleted = (moduleId) => {\r\n    if (!userProgress.completedModules.includes(moduleId)) {\r\n      setUserProgress(prev => ({\r\n        ...prev,\r\n        modulesCompleted: prev.modulesCompleted + 1,\r\n        completedModules: [...prev.completedModules, moduleId]\r\n      }));\r\n      checkAchievements();\r\n    }\r\n  };\r\n\r\n  const updateTimeSpent = (minutes) => {\r\n    setUserProgress(prev => ({\r\n      ...prev,\r\n      totalTimeSpent: prev.totalTimeSpent + minutes\r\n    }));\r\n  };\r\n\r\n  const updateQuizStats = async (score, earnedPoints) => {\r\n    if (!currentUser) return;\r\n\r\n    const progressRef = doc(db, 'progress', currentUser.uid);\r\n    const newQuizzesTaken = (userProgress.quizzesTaken || 0) + 1;\r\n    const newAverageScore = Math.round(\r\n      ((userProgress.averageScore || 0) * (userProgress.quizzesTaken || 0) + score) / newQuizzesTaken\r\n    );\r\n    const newHighestScore = Math.max(userProgress.highestScore || 0, score);\r\n    const newTotalPoints = (userProgress.totalPoints || 0) + earnedPoints;\r\n\r\n    const updatedProgress = {\r\n      ...userProgress,\r\n      quizzesTaken: newQuizzesTaken,\r\n      averageScore: newAverageScore,\r\n      highestScore: newHighestScore,\r\n      totalPoints: newTotalPoints\r\n    };\r\n\r\n    await updateDoc(progressRef, updatedProgress);\r\n    setUserProgress(updatedProgress);\r\n    checkAchievements();\r\n  };\r\n\r\n  const addPoints = async (points) => {\r\n    if (!currentUser) return;\r\n\r\n    const progressRef = doc(db, 'progress', currentUser.uid);\r\n    const newPoints = (userProgress.totalPoints || 0) + points;\r\n    \r\n    const updatedProgress = {\r\n      ...userProgress,\r\n      totalPoints: newPoints\r\n    };\r\n\r\n    await updateDoc(progressRef, updatedProgress);\r\n    setUserProgress(updatedProgress);\r\n    checkAchievements();\r\n  };\r\n\r\n  const formatTime = (minutes) => {\r\n    const hours = Math.floor(minutes / 60);\r\n    const mins = minutes % 60;\r\n    return `${hours}h ${mins}m`;\r\n  };\r\n\r\n  const addActivity = (activity) => {\r\n    const newActivity = {\r\n      id: Date.now(),\r\n      description: activity,\r\n      timestamp: new Date()\r\n    };\r\n    setUserProgress(prev => ({\r\n      ...prev,\r\n      recentActivities: [newActivity, ...prev.recentActivities.slice(0, 9)]\r\n    }));\r\n  };\r\n\r\n  const value = {\r\n    userProgress,\r\n    notifications,\r\n    resetProgress,\r\n    updateModulesCompleted,\r\n    updateTimeSpent,\r\n    updateQuizStats,\r\n    addPoints,\r\n    formatTime,\r\n    addActivity,\r\n    hasAchievement,\r\n    checkAchievements,\r\n    loading\r\n  };\r\n\r\n  return (\r\n    <ProgressContext.Provider value={value}>\r\n      {!loading && children}\r\n    </ProgressContext.Provider>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}